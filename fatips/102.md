| FATIP | Title                       | Status | Category | Author                          | Created   |
| ----- | --------------------------- | ------ | -------- | ------------------------------- | --------- |
| 102   | FAT Token Indexing Standard | WIP    | Core     | Devon Katz \<devonk@dbgrow.com> | 8-17-2018 |



# Summary

The standard offers a way for issuers to publicly index and list their FAT
tokens.


# Motivation

Create a central, authoritative, public index of FAT tokens. Such an index is
ideal for creating FAT token explorers, and improving the discoverability of
tokens within the ecosystem.


# Specification


## Token Index Chain

The index chain holds entries corresponding to individual signed listings of FAT tokens by their issuers.


### Token Index Chain ID `extends` [FATIP-100](100)

The first entry index chain has the following External IDs:

| External ID Index | External ID Value |
| ----------------- | ----------------- |
| 0                 | "index"           |
| 1                 | "tokens"          |

For example, for FAT-0 token `mytoken`:

```
Chain ID = sha256(sha256("index") | sha256("tokens"))
Chain ID = 9385ab32f9748bf4c24cedb301bc5a4938eb5cd4a5b0bb46b70027bf983f579a2e
```



## Token Index Entry `extends` [FATIP-101](101.md)

Entries in the index chain represent individual FAT tokens being indexed. Each entry is a simple pointer containing the necessary data to find the token's chain, where user facing data such as Name, Symbol & etc. can be found.

From [FATIP-101](101.md), the `data` being signed shall be the Chain ID of the token chain concatenated with the index entry content. The `issuer` signing the content shall be the hex encoded Identity Root Chain ID specified in the in the entry JSON, and the `IDKey` used shall be the IDKey of `issuer` at the time of entry to Factom.


### Token Index Entry Content Example

```json
{
  "id": "mytoken",
  "issuer":"888888dd9e60c1f0216f753caf5c9b5be4c9ca69db27a6c33d30dce3fe5ee709",
  "salt": "874220a808090fb736f345dd5d67ac26eab94c9c9f51b708b05cdc4d42f65aae"
}
```


### Token Index Entry Fields Summary & Validation

| Field  | Type   | Description                           | Validation                                       | Required |
| ------ | ------ | ------------------------------------- | ------------------------------------------------ | -------- |
| id     | string | The ID of the FAT token being indexed | FAT Token exists.                                | Y        |
| issuer | string | The root Chain ID of the issuer       | Chain must exist, must be valid Factom identity. | Y        |
| salt   | string | Random string to salt the content     |                                                  | N        |

### Token Index Entry External IDs Summary & Validation

| External ID Index | Type            | Description                                                  | Validation                                                   | Required |
| ----------------- | --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | -------- |
| 0                 | raw binary data | Raw ed25519 signature output of signing `index chain ID` + index entry content. | ed25519 signature validation (`index chain ID`+ index entry content, `IDKey`, `ExtID[0]`) | Y        |

# Implementation

No implementation notes.


# Copyright

Copyright and related rights waived via
[CC0](https://creativecommons.org/publicdomain/zero/1.0/).
